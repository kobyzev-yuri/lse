# –ù–æ–≤–æ—Å—Ç–∏ –∏ sentiment: —á—Ç–æ –µ—Å—Ç—å, —á–µ–≥–æ –Ω–µ—Ç, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞

## üìä –ß—Ç–æ –ø–æ –Ω–æ–≤–æ—Å—Ç—è–º –µ—Å—Ç—å –∏ —á–µ–≥–æ –Ω–µ—Ç

### ‚úÖ –ï—Å—Ç—å –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

| –ò—Å—Ç–æ—á–Ω–∏–∫ | –ß—Ç–æ –¥–∞—ë—Ç | –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î |
|---------|----------|-------------------|
| **RSS (Fed, ECB, BOJ, BOE, FOMC)** | –ó–∞–≥–æ–ª–æ–≤–∫–∏, —Ç–µ–∫—Å—Ç, —Å—Å—ã–ª–∫–∞, event_type, region | –î–∞. **sentiment_score = NULL** (–∏—Å—Ç–æ—á–Ω–∏–∫ –Ω–µ –æ—Ç–¥–∞—ë—Ç sentiment) |
| **NewsAPI** | –°—Ç–∞—Ç—å–∏ (–∑–∞–≥–æ–ª–æ–≤–æ–∫, –æ–ø–∏—Å–∞–Ω–∏–µ, —Å—Å—ã–ª–∫–∞) | –î–∞. **sentiment_score = NULL** (API –Ω–µ –æ—Ç–¥–∞—ë—Ç sentiment) |
| **Alpha Vantage (NEWS_SENTIMENT)** | –ù–æ–≤–æ—Å—Ç–∏ + **–≥–æ—Ç–æ–≤—ã–π sentiment** –ø–æ —Ç–∏–∫–µ—Ä–∞–º | –î–∞. **sentiment_score –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è** –∏–∑ API (overall_sentiment_score, ticker_sentiment_score) |
| **Alpha Vantage (Earnings Calendar)** | –î–∞—Ç—ã –æ—Ç—á—ë—Ç–æ–≤, –æ—Ü–µ–Ω–∫–∏ | –î–∞ –∫–∞–∫ —Å–æ–±—ã—Ç–∏—è. Sentiment –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–º. |
| **Alpha Vantage (Economic Indicators)** | CPI, GDP, Federal Funds Rate, Treasury Yield, Unemployment | –î–∞ –≤ `knowledge_base` —Å `event_type='ECONOMIC_INDICATOR'`, `ticker='US_MACRO'`. |
| **Alpha Vantage (Technical Indicators)** | RSI, MACD, Bollinger Bands, ADX, Stochastic | –î–∞ –≤ `quotes` (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø–∏—Å–µ–π –ø–æ –¥–∞—Ç–µ/—Ç–∏–∫–µ—Ä—É). |

### ‚ùå –ü–æ–∫–∞ –Ω–µ—Ç / –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

| –ò—Å—Ç–æ—á–Ω–∏–∫ | –°—Ç–∞—Ç—É—Å |
|----------|--------|
| **Investing.com Economic Calendar** | –ü–∞—Ä—Å–µ—Ä –ª–æ–º–∞–µ—Ç—Å—è (–¥—Ä—É–≥–∞—è –≤—ë—Ä—Å—Ç–∫–∞, 429). –°–æ–±—ã—Ç–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –Ω–µ —Ç—è–Ω–µ–º. |
| **–û—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∏–¥ FOMC Minutes** | –ù–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ RSS; –º–∏–Ω—É—Ç—ã –ø–æ–ø–∞–¥–∞—é—Ç –≤ –æ–±—â–∏–π press. |

---

## üß† Sentiment: –æ—Ç–∫—É–¥–∞ –±–µ—Ä—ë—Ç—Å—è, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞

### 1. –¢—è–Ω–µ—Ç—Å—è –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (–Ω–∏—á–µ–≥–æ –¥–µ–ª–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ)

**Alpha Vantage (NEWS_SENTIMENT):**
- API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `overall_sentiment_score` –∏ –ø–æ –∫–∞–∂–¥–æ–º—É —Ç–∏–∫–µ—Ä—É `ticker_sentiment_score` (—à–∫–∞–ª–∞ —É –Ω–∏—Ö –æ–∫–æ–ª–æ -1‚Ä¶+1).
- –ú—ã —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ `knowledge_base.sentiment_score` (–Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º –≤ 0.0‚Äì1.0).
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è sentiment-–æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ –Ω—É–∂–Ω–∞** ‚Äî —É–∂–µ –µ—Å—Ç—å –≥–æ—Ç–æ–≤—ã–π sentiment –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞.

### 2. –ò—Å—Ç–æ—á–Ω–∏–∫ –Ω–µ –¥–∞—ë—Ç sentiment ‚Äî —É –Ω–∞—Å NULL

**RSS (–≤—Å–µ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–µ –±–∞–Ω–∫–∏):**  
- –í —Ñ–∏–¥–∞—Ö —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç/–∑–∞–≥–æ–ª–æ–≤–∫–∏, –Ω–∏–∫–∞–∫–æ–≥–æ sentiment.  
- –í –ë–î –ø–∏—à–µ–º `sentiment_score = NULL`.

**NewsAPI:**  
- API –æ—Ç–¥–∞—ë—Ç —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç/–∑–∞–≥–æ–ª–æ–≤–∫–∏.  
- –í –ë–î –ø–∏—à–µ–º `sentiment_score = NULL`.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ:**  
- `AnalystAgent.calculate_weighted_sentiment()` —Å—á–∏—Ç–∞–µ—Ç –≤–∑–≤–µ—à–µ–Ω–Ω–æ–µ —Å—Ä–µ–¥–Ω–µ–µ –ø–æ `sentiment_score`.  
- –ü—Ä–∏ **NULL** –≤ pandas –ø–æ–ª—É—á–∞–µ—Ç—Å—è NaN; –ø—Ä–∏ —É–º–Ω–æ–∂–µ–Ω–∏–∏ –Ω–∞ –≤–µ—Å –∏ —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å NaN.  
- –ò–º–µ–µ—Ç —Å–º—ã—Å–ª —Ç—Ä–∞–∫—Ç–æ–≤–∞—Ç—å NULL –∫–∞–∫ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π sentiment (–Ω–∞–ø—Ä–∏–º–µ—Ä, 0.5) –ø—Ä–∏ —Ä–∞—Å—á—ë—Ç–µ –≤–∑–≤–µ—à–µ–Ω–Ω–æ–≥–æ sentiment, —á—Ç–æ–±—ã –Ω–æ–≤–æ—Å—Ç–∏ –±–µ–∑ –æ—Ü–µ–Ω–∫–∏ –Ω–µ –ª–æ–º–∞–ª–∏ —Ä–∞—Å—á—ë—Ç.

### 3. –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –Ω–∞—à–∞ sentiment-–æ–±—Ä–∞–±–æ—Ç–∫–∞ (LLM)

**–†—É—á–Ω–æ–π –≤–≤–æ–¥ –∏ –∏–º–ø–æ—Ä—Ç (news_importer):**
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ CLI –∏–ª–∏ CSV –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç sentiment —á–µ—Ä–µ–∑ LLM: –≤ `config.env` –∑–∞–¥–∞—Ç—å `SENTIMENT_AUTO_CALCULATE=true`.
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `services/sentiment_analyzer.calculate_sentiment(content)` (LLM), —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–∏—à–µ—Ç—Å—è –≤ `sentiment_score` –∏ –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –≤ `insight`.

**–ê–≤—Ç–æ–ø–æ—Ç–æ–∫–∏ (RSS, NewsAPI):**  
- –°–µ–π—á–∞—Å –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ **–Ω–µ** –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è LLM ‚Äî sentiment –æ—Å—Ç–∞—ë—Ç—Å—è NULL.  
- –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–º–µ—Ç—å sentiment –∏ –¥–ª—è —ç—Ç–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π, –≤–æ–∑–º–æ–∂–Ω—ã –≤–∞—Ä–∏–∞–Ω—Ç—ã:
  - **–ü–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫–∞:** –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–∏–ª–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é) –¥–ª—è –∑–∞–ø–∏—Å–µ–π —Å `sentiment_score IS NULL` –≤—ã–∑—ã–≤–∞—Ç—å LLM –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –ø–æ–ª–µ (—É—á—ë—Ç –ª–∏–º–∏—Ç–æ–≤ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ API).
  - **–û–ø—Ü–∏—è –≤ cron:** –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–ª–∞–≥ ¬´–¥–æ–∑–∞–ª–∏–≤–∞—Ç—å sentiment —á–µ—Ä–µ–∑ LLM —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö N –∑–∞–ø–∏—Å–µ–π –±–µ–∑ sentiment¬ª.

---

## –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞: –Ω—É–∂–Ω–∞ –ª–∏ sentiment-–æ–±—Ä–∞–±–æ—Ç–∫–∞

| –ò—Å—Ç–æ—á–Ω–∏–∫ | Sentiment –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞? | –ù—É–∂–Ω–∞ –ª–∏ –Ω–∞—à–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞? |
|----------|-------------------------|---------------------------|
| **Alpha Vantage NEWS_SENTIMENT** | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç |
| **Alpha Vantage Earnings** | ‚Äî | ‚Äî (—Å–æ–±—ã—Ç–∏—è, –Ω–µ sentiment) |
| **Alpha Vantage Economic Indicators** | ‚Äî | ‚Äî (–º–∞–∫—Ä–æ—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ, –Ω–µ sentiment) |
| **Alpha Vantage Technical Indicators** | ‚Äî | ‚Äî (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã, –Ω–µ sentiment) |
| **RSS (Fed, ECB, BOJ, BOE –∏ —Ç.–¥.)** | ‚ùå –ù–µ—Ç | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: LLM –ø–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è sentiment |
| **NewsAPI** | ‚ùå –ù–µ—Ç | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Ç–æ –∂–µ |
| **–†—É—á–Ω–æ–π –≤–≤–æ–¥ / CSV** | –ü–æ –∂–µ–ª–∞–Ω–∏—é | –ü–æ –∂–µ–ª–∞–Ω–∏—é: `SENTIMENT_AUTO_CALCULATE=true` ‚Üí LLM –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ |

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ù–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è—Ç—å –ø–æ Alpha Vantage** ‚Äî sentiment —É–∂–µ —Ç—è–Ω–µ—Ç—Å—è –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.
2. **–ü–æ RSS –∏ NewsAPI** ‚Äî –ª–∏–±–æ –æ—Å—Ç–∞–≤–∏—Ç—å NULL (–∏ –≤ AnalystAgent —Å—á–∏—Ç–∞—Ç—å NULL –∫–∞–∫ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π, –Ω–∞–ø—Ä–∏–º–µ—Ä 0.5), –ª–∏–±–æ –≤–≤–µ—Å—Ç–∏ –ø–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫—É LLM –¥–ª—è —á–∞—Å—Ç–∏ –Ω–æ–≤–æ—Å—Ç–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞ —Å—É—Ç–∫–∏).
3. **AnalystAgent** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É NULL: –ø–µ—Ä–µ–¥ —Ä–∞—Å—á—ë—Ç–æ–º –≤–∑–≤–µ—à–µ–Ω–Ω–æ–≥–æ sentiment –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å –¥–ª—è NULL –∑–Ω–∞—á–µ–Ω–∏–µ 0.5 (–Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π), —á—Ç–æ–±—ã –Ω–æ–≤–æ—Å—Ç–∏ –±–µ–∑ –æ—Ü–µ–Ω–∫–∏ –Ω–µ –¥–∞–≤–∞–ª–∏ NaN.

**–°–¥–µ–ª–∞–Ω–æ:** –≤ `AnalystAgent.calculate_weighted_sentiment()` –¥–ª—è –∑–∞–ø–∏—Å–µ–π —Å `sentiment_score = NULL` –ø—Ä–∏ —Ä–∞—Å—á—ë—Ç–µ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è 0.5 (–Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π), —á—Ç–æ–±—ã –Ω–µ –ø–æ–ª—É—á–∞—Ç—å NaN.
