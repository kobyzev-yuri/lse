# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot –¥–ª—è LSE Trading System

## –û–±–∑–æ—Ä

Telegram Bot –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:
- –ó–æ–ª–æ—Ç–æ (GC=F)
- –í–∞–ª—é—Ç–Ω—ã–µ –ø–∞—Ä—ã (GBPUSD=X, EURUSD=X –∏ —Ç.–¥.)
- –ê–∫—Ü–∏–∏ (MSFT, SNDK –∏ —Ç.–¥.)

**–§–æ–∫—É—Å:** –ê–Ω–∞–ª–∏–∑ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –±–µ–∑ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª–µ–º (–ø–æ–∫–∞).

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞ –≤ Telegram

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/botfather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å config.env

–î–æ–±–∞–≤—å—Ç–µ –≤ `config.env`:

```bash
# Telegram Bot
TELEGRAM_BOT_TOKEN=your_bot_token_here

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø (user_id —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
TELEGRAM_ALLOWED_USERS=123456789,987654321

# –î–ª—è webhook (–∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ —Å–µ—Ä–≤–∏—Å)
TELEGRAM_WEBHOOK_URL=https://your-service.run.app/webhook
```

**–ö–∞–∫ —É–∑–Ω–∞—Ç—å —Å–≤–æ–π user_id:**
- –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É [@userinfobot](https://t.me/userinfobot)
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start` —É –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install python-telegram-bot>=20.0
```

### –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ (polling —Ä–µ–∂–∏–º)

```bash
python scripts/run_telegram_bot.py
```

–ë–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ä–µ–∂–∏–º–µ polling (–∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —É Telegram API).

---

## –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### `/start` - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥.

### `/help` - –°–ø—Ä–∞–≤–∫–∞
–ü–æ–¥—Ä–æ–±–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –≤—Å–µ–º –∫–æ–º–∞–Ω–¥–∞–º.

### `/signal [ticker]` - –ê–Ω–∞–ª–∏–∑ —Å–∏–≥–Ω–∞–ª–∞
- –ë–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–∞: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø—Ä–∞–≤–∫—É –∏ —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–∏–∫–µ—Ä–æ–≤
- –° —Ç–∏–∫–µ—Ä–æ–º: –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –∏ RSI (—Å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–µ–π –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç–∏/–ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç–∏)
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å–∏–≥–Ω–∞–ª
- Sentiment –∞–Ω–∞–ª–∏–∑ –Ω–æ–≤–æ—Å—Ç–µ–π
- –í—ã–±—Ä–∞–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è (Momentum, Mean Reversion, Volatile Gap, Neutral)
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è (STRONG_BUY/BUY/HOLD/SELL)
- –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä—ã:**
```
/signal          # –°–ø—Ä–∞–≤–∫–∞ –∏ —Å–ø–∏—Å–æ–∫ —Ç–∏–∫–µ—Ä–æ–≤
/signal GC=F
/signal GBPUSD=X
/signal MSFT
```

### `/news <ticker> [N]` - –ù–æ–≤–æ—Å—Ç–∏
–ù–æ–≤–æ—Å—Ç–∏ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π —Å sentiment –∞–Ω–∞–ª–∏–∑–æ–º.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `<ticker>` - —Ç–∏–∫–µ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `[N]` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤–æ—Å—Ç–µ–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10, –º–∞–∫—Å. 50)

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ —Å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º
- –¢–∏–ø —Å–æ–±—ã—Ç–∏—è (NEWS, EARNINGS, ECONOMIC_INDICATOR)
- Sentiment (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è "—à—É–º–Ω—ã—Ö" –∑–∞–ø–∏—Å–µ–π –∫–∞–ª–µ–Ω–¥–∞—Ä—è

**–ü—Ä–∏–º–µ—Ä—ã:**
```
/news GC=F
/news MSFT 15
/news GBPUSD=X 20
```

### `/price <ticker>` - –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞
–ë—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã –∏ –º–µ—Ç—Ä–∏–∫.

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
- SMA(5)
- –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –∑–∞ 5 –¥–Ω–µ–π
- RSI (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω, –∏–Ω–∞—á–µ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ close)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∏–∫–µ—Ä–æ–≤ (GC-F ‚Üí GC=F, GBPUSD-X ‚Üí GBPUSD=X)
- –ï—Å–ª–∏ —Ç–∏–∫–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç—Å—è –ø–æ—Ö–æ–∂–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
- RSI –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ close, –µ—Å–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

**–ü—Ä–∏–º–µ—Ä—ã:**
```
/price GC=F
/price MSFT
/price GBPUSD=X
/price GC-F      # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ GC=F
```

### `/chart <ticker> [days]` - –ì—Ä–∞—Ñ–∏–∫ —Ü–µ–Ω—ã
–ì—Ä–∞—Ñ–∏–∫ —Ü–µ–Ω—ã –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `<ticker>` - —Ç–∏–∫–µ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `[days]` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1, –º–∞–∫—Å. 30)

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- –ì—Ä–∞—Ñ–∏–∫ —Ü–µ–Ω—ã –∑–∞–∫—Ä—ã—Ç–∏—è –∏ SMA(5)
- –ì—Ä–∞—Ñ–∏–∫ RSI —Å –ª–∏–Ω–∏—è–º–∏ –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç–∏ (70) –∏ –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç–∏ (30)
- –î–Ω–µ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ü–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –∑–∞ –¥–µ–Ω—å)

**–í–∞–∂–Ω–æ:** –í –±–∞–∑–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–Ω–µ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ü–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –∑–∞ –¥–µ–Ω—å), –ø–æ—ç—Ç–æ–º—É –∑–∞ –æ–¥–∏–Ω –¥–µ–Ω—å = –æ–¥–Ω–∞ —Ç–æ—á–∫–∞ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ. –î–ª—è –≥—Ä–∞—Ñ–∏–∫–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ç–æ—á–∫–∞–º–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª—å—à–µ –¥–Ω–µ–π.

**–ü—Ä–∏–º–µ—Ä—ã:**
```
/chart GC=F        # –ì—Ä–∞—Ñ–∏–∫ –∑–∞ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å (1 —Ç–æ—á–∫–∞)
/chart GC=F 7      # –ì—Ä–∞—Ñ–∏–∫ –∑–∞ 7 –¥–Ω–µ–π (7 —Ç–æ—á–µ–∫)
/chart GBPUSD=X 30 # –ì—Ä–∞—Ñ–∏–∫ –∑–∞ 30 –¥–Ω–µ–π (30 —Ç–æ—á–µ–∫)
```

### `/ask <–≤–æ–ø—Ä–æ—Å>` - –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –±–æ—Ç—É
–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –±–æ—Ç—É –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ. –†–∞–±–æ—Ç–∞–µ—Ç –≤ –≥—Ä—É–ø–ø–∞—Ö –∏ –ª–∏—á–Ω—ã—Ö —á–∞—Ç–∞—Ö.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- LLM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤
- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π (–∑–æ–ª–æ—Ç–æ ‚Üí GC=F, —Ñ—É–Ω—Ç ‚Üí GBPUSD=X)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ç–∏–∫–µ—Ä–æ–≤ –≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–∞ (–Ω–æ–≤–æ—Å—Ç–∏/—Ü–µ–Ω–∞/–∞–Ω–∞–ª–∏–∑) –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º

**–ü—Ä–∏–º–µ—Ä—ã:**
```
/ask –∫–∞–∫–∞—è —Ü–µ–Ω–∞ –∑–æ–ª–æ—Ç–∞
/ask –∫–∞–∫–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –ø–æ MSFT
/ask –∞–Ω–∞–ª–∏–∑ GBPUSD
/ask —á—Ç–æ —Å —Ñ—É–Ω—Ç–æ–º
/ask 2 —Å–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –ø–æ —Ñ—É–Ω—Ç—É –∏ –∑–æ–ª–æ—Ç—É
```

### `/tickers` - –°–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ —Ç–∏–ø–∞–º:
- –¢–æ–≤–∞—Ä—ã (GC=F)
- –í–∞–ª—é—Ç–Ω—ã–µ –ø–∞—Ä—ã (GBPUSD=X, EURUSD=X)
- –ê–∫—Ü–∏–∏ (MSFT, SNDK)

---

## –ü–µ—Å–æ—á–Ω–∏—Ü–∞: –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Å–¥–µ–ª–∫–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

–í –±–æ—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è (–ø–µ—Å–æ—á–Ω–∏—Ü–∞): —Å–¥–µ–ª–∫–∏ –∏—Å–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ü–µ–Ω–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `quotes`, –∫—ç—à –∏ –ø–æ–∑–∏—Ü–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ë–î.

### `/portfolio` - –ü–æ—Ä—Ç—Ñ–µ–ª—å –∏ P&L
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –∫—ç—à, –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –∏ –Ω–µ—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π P&L –ø–æ –ø–æ—Å–ª–µ–¥–Ω–∏–º —Ü–µ–Ω–∞–º –∏–∑ `quotes`.

### `/buy <ticker> <–∫–æ–ª-–≤–æ>` - –ü–æ–∫—É–ø–∫–∞
–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø–æ–∫—É–ø–∫–∞ –ø–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ü–µ–Ω–µ. –£—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ–º–∏—Å—Å–∏—è 0,1%; –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ª–∏–º–∏—Ç—ã –∏–∑ `local/risk_limits.json`. –ó–∞–ø–∏—Å—å –≤ `portfolio_state` –∏ `trade_history` (signal_type=MANUAL).

### `/sell <ticker>` –∏–ª–∏ `/sell <ticker> <–∫–æ–ª-–≤–æ>` - –ü—Ä–æ–¥–∞–∂–∞
–ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ. –í –æ—Ç–≤–µ—Ç–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è P&L –ø–æ —Å–¥–µ–ª–∫–µ.

### `/history [—Ç–∏–∫–µ—Ä] [N]` - –ò—Å—Ç–æ—Ä–∏—è —Å–¥–µ–ª–æ–∫
–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–¥–µ–ª–∫–∏ –∏–∑ `trade_history`. –ë–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–µ 15 –ø–æ –≤—Å–µ–º —Ç–∏–∫–µ—Ä–∞–º; —Å —Ç–∏–∫–µ—Ä–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä `/history SNDK`) ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ —ç—Ç–æ–º—É —Ç–∏–∫–µ—Ä—É; –≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî –ª–∏–º–∏—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä `/history SNDK 30`). –í –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è: `[GAME_5M]`, `[Portfolio]`, `[Manual]` –∏ —Ç.–¥.

### `/recommend <ticker>` - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–æ –≤—Ö–æ–¥—É
–°–∏–≥–Ω–∞–ª –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (BUY/HOLD/SELL), —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è (–æ—Ç–∫—Ä—ã—Ç—å/–¥–µ—Ä–∂–∞—Ç—å/–Ω–µ –≤—Ö–æ–¥–∏—Ç—å), –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è: —Å—Ç–æ–ø-–ª–æ—Å—Å %, —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç %, –º–∞–∫—Å. —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏. –î–∞–Ω–Ω—ã–µ –∏–∑ `risk_limits.json` –∏ AnalystAgent.

**–í–æ–ø—Ä–æ—Å—ã –≤ /ask:** –º–æ–∂–Ω–æ —Å–ø—Ä–æ—Å–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–º: *¬´–∫–æ–≥–¥–∞ –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é –ø–æ SNDK –∏ –∫–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–≤–µ—Ç—É–µ—à—å?¬ª* ‚Äî –±–æ—Ç –≤–µ—Ä–Ω—ë—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é —Å —É—á—ë—Ç–æ–º —Ç–µ–∫—É—â–µ–≥–æ —Å–∏–≥–Ω–∞–ª–∞ –∏ –ª–∏–º–∏—Ç–æ–≤.

### `/dashboard [5m|daily|all]` - –î–∞—à–±–æ—Ä–¥ –ø–æ —Ç–∏–∫–µ—Ä–∞–º (–ø—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
–°–≤–æ–¥–∫–∞ –ø–æ –≤—Å–µ–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–º —Ç–∏–∫–µ—Ä–∞–º –¥–ª—è —Å–º–µ–Ω—ã –∫—É—Ä—Å–∞ –∏ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π.

**–†–µ–∂–∏–º—ã:**
- `all` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) ‚Äî —Ü–µ–Ω–∞, RSI, —Ä–µ—à–µ–Ω–∏–µ (BUY/HOLD/SELL), –∫–æ–ª-–≤–æ –Ω–æ–≤–æ—Å—Ç–µ–π –∑–∞ 7 –¥–Ω., –±–ª–æ–∫ 5m –ø–æ SNDK
- `5m` ‚Äî –∞–∫—Ü–µ–Ω—Ç –Ω–∞ 5-–º–∏–Ω—É—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–∏–Ω—Ç—Ä–∞–¥–µ–π, SNDK)
- `daily` ‚Äî –∞–∫—Ü–µ–Ω—Ç –Ω–∞ –Ω–æ–≤–æ—Å—Ç—è—Ö (—É–¥–æ–±–Ω–æ, –∫–æ–≥–¥–∞ —Ü–µ–Ω—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ä–∞–∑ –≤ –¥–µ–Ω—å)

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:** VIX –∏ —Ä–µ–∂–∏–º —Ä—ã–Ω–∫–∞, –ø–æ –∫–∞–∂–¥–æ–º—É —Ç–∏–∫–µ—Ä—É –∏–∑ —Å–ø–∏—Å–∫–∞ (SNDK, MU, LITE, ALAB, TER, MSFT –∏–ª–∏ `DASHBOARD_WATCHLIST` –≤ config) ‚Äî —Ü–µ–Ω–∞, RSI, —Å–∏–≥–Ω–∞–ª, —á–∏—Å–ª–æ –Ω–æ–≤–æ—Å—Ç–µ–π; –±–ª–æ–∫ 5m –ø–æ SNDK (–∏–º–ø—É–ª—å—Å 2—á, RSI 5m, —Ä–µ—à–µ–Ω–∏–µ). –í –∫–æ–Ω—Ü–µ ‚Äî –ø–æ–¥—Å–∫–∞–∑–∫–∏: /recommend, /recommend5m, /chart5m.

**–ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é:** —Å–º. —Ä–∞–∑–¥–µ–ª –Ω–∏–∂–µ.

**–¶–µ–ø–æ—á–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ë–î:** –ø–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä (–ø–æ–∫—É–ø–∫–∞ ‚Üí –ø—Ä–æ–¥–∞–∂–∞ ‚Üí —á–∞—Å—Ç–∏—á–Ω–∞—è –ø—Ä–æ–¥–∞–∂–∞ ‚Üí —Å—Ç–æ–ø-–ª–æ—Å—Å) –∏ –≤–∏–¥ —Ç–∞–±–ª–∏—Ü `portfolio_state` –∏ `trade_history` –æ–ø–∏—Å–∞–Ω –≤ [docs/SANDBOX_TRADE_EXAMPLE.md](SANDBOX_TRADE_EXAMPLE.md).

---

## –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

### 1. Polling —Ä–µ–∂–∏–º (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
python scripts/run_telegram_bot.py
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ URL
- –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –¢—Ä–µ–±—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### 2. Webhook —Ä–µ–∂–∏–º (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Cloud Run –∏–ª–∏ –¥—Ä—É–≥–æ–º —Å–µ—Ä–≤–µ—Ä–µ

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**

1. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å `api/bot_app.py` –Ω–∞ Cloud Run –∏–ª–∏ –Ω–∞ VM (—Å–º. `docs/DEPLOY_INSTRUCTIONS.md`)

2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhook:
```bash
python scripts/setup_webhook.py --url https://your-service.run.app/webhook
```

3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å webhook:
```bash
curl https://your-service.run.app/webhook/info
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
lse/
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ telegram_bot.py          # –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –±–æ—Ç–∞
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îî‚îÄ‚îÄ bot_app.py                # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è webhook
‚îî‚îÄ‚îÄ scripts/
    ‚îú‚îÄ‚îÄ run_telegram_bot.py       # –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (polling)
    ‚îî‚îÄ‚îÄ setup_webhook.py          # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook
```

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

### AnalystAgent
–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `AnalystAgent.get_decision_with_llm()` –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–∏–≥–Ω–∞–ª–æ–≤:
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
- Sentiment –∞–Ω–∞–ª–∏–∑ –Ω–æ–≤–æ—Å—Ç–µ–π
- –í—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- **LLM –æ—Ç–∫–ª—é—á–µ–Ω–∞ –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞** (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã `/ask`)

### Vector KB
–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `VectorKB.search_similar()` –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ—Ö–æ–∂–∏—Ö —Å–æ–±—ã—Ç–∏–π –ø—Ä–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö.

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
–ë–æ—Ç —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑:
- `quotes` - –∫–æ—Ç–∏—Ä–æ–≤–∫–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏
- `knowledge_base` - –Ω–æ–≤–æ—Å—Ç–∏ —Å sentiment; –∫–æ–ª–æ–Ω–∫–∏ embedding –∏ outcome_json –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –∏—Å—Ö–æ–¥–æ–≤ (–æ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞)

### –õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç RSI
–î–ª—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –≥–¥–µ RSI –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (Finviz, Alpha Vantage), –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ —Ü–µ–Ω –∑–∞–∫—Ä—ã—Ç–∏—è:
- –ú–æ–¥—É–ª—å: `services/rsi_calculator.py`
- –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: `scripts/update_rsi_local.py`
- –¢—Ä–µ–±—É–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º 15 –¥–Ω–µ–π –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ RSI(14)

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ê–Ω–∞–ª–∏–∑ –∑–æ–ª–æ—Ç–∞

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /signal GC=F

–ë–æ—Ç:
üü¢ GC=F - STRONG_BUY

üí∞ –¶–µ–Ω–∞: $2025.50
üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å–∏–≥–Ω–∞–ª: BUY
üìà Sentiment: 0.65 (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π)
üìã –°—Ç—Ä–∞—Ç–µ–≥–∏—è: MomentumStrategy
üì∞ –ù–æ–≤–æ—Å—Ç–µ–π: 5

üí≠ –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:
VIX –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π, –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Å —Å–µ–∫—Ç–æ—Ä–æ–º –Ω–∏–∑–∫–∞—è ‚Äî –±—É–º–∞–≥–∞ –∏–¥–µ—Ç –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥—Ä–∞–π–≤–µ—Ä–∞—Ö...
```

### –ü—Ä–∏–º–µ—Ä 2: –ù–æ–≤–æ—Å—Ç–∏ –ø–æ –≤–∞–ª—é—Ç–Ω–æ–π –ø–∞—Ä–µ

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /news GBPUSD=X

–ë–æ—Ç:
üì∞ –ù–æ–≤–æ—Å—Ç–∏ –¥–ª—è GBPUSD=X (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π):

üìÖ 2026-02-20 14:00 üìà
Bank of England announces interest rate decision...
```

### –ü—Ä–∏–º–µ—Ä 3: –ö–æ–º–∞–Ω–¥–∞ /ask

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /ask –∫–∞–∫–∞—è —Ü–µ–Ω–∞ –∑–æ–ª–æ—Ç–∞

–ë–æ—Ç:
üí∞ GC=F
üìÖ –î–∞—Ç–∞: 2026-02-20
üíµ –¶–µ–Ω–∞: $2025.50
üìà SMA(5): $2020.30
üìä –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å(5): 1.25%
‚ö™ RSI: 55.2 (–Ω–µ–π—Ç—Ä–∞–ª—å–Ω–∞—è –∑–æ–Ω–∞)
```

### –ü—Ä–∏–º–µ—Ä 4: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–∏–∫–µ—Ä—ã

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /ask 2 —Å–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –ø–æ —Ñ—É–Ω—Ç—É –∏ –∑–æ–ª–æ—Ç—É

–ë–æ—Ç:
üì∞ –¢–æ–ø 2 —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π (GBPUSD=X, GC=F):

GBPUSD=X - 2026-02-20 14:00 üìà
üîπ Reuters [NEWS]
Bank of England announces interest rate decision...

GC=F - 2026-02-20 10:00 üìà
üîπ Bloomberg [NEWS]
Gold prices surge on inflation concerns...
```

### –ü—Ä–∏–º–µ—Ä 5: –ì—Ä–∞—Ñ–∏–∫

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /chart GC=F 7

–ë–æ—Ç:
[–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞]
üìà GC=F - 7 –¥–Ω–µ–π (7 —Ç–æ—á–µ–∫)

‚ÑπÔ∏è –î–∞–Ω–Ω—ã–µ: –¥–Ω–µ–≤–Ω—ã–µ (—Ü–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è). –î–ª—è –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª—å—à–µ –¥–Ω–µ–π.
```

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `TELEGRAM_ALLOWED_USERS` –≤ `config.env` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞:

```bash
TELEGRAM_ALLOWED_USERS=123456789,987654321
```

–¢–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—ã–µ user_id —Å–º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ—Ç–∞.

### –ó–∞—â–∏—Ç–∞ webhook

–ü—Ä–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ –Ω–∞ Cloud Run:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è webhook)
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ VPC connector –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ë–î
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤ (–Ω–µ —Ö—Ä–∞–Ω–∏—Ç–µ –≤ –∫–æ–¥–µ)

---

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "TELEGRAM_BOT_TOKEN –Ω–µ –Ω–∞–π–¥–µ–Ω"

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–æ–∫–µ–Ω –¥–æ–±–∞–≤–ª–µ–Ω –≤ `config.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `config.env` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç: `TELEGRAM_BOT_TOKEN=123456:ABC-DEF...`

### "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω"

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `TELEGRAM_ALLOWED_USERS` –≤ `config.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à user_id –≤ —Å–ø–∏—Å–∫–µ
3. –ò–ª–∏ —É–¥–∞–ª–∏—Ç–µ `TELEGRAM_ALLOWED_USERS` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –≤—Å–µ–º

### "–û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ —Å–∏–≥–Ω–∞–ª–∞"

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–∏–∫–µ—Ä —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ë–î (`quotes`)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–∏–∫–µ—Ä–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –æ—à–∏–±–∫–∏

### Webhook –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ URL –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ (HTTPS)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω: `python scripts/setup_webhook.py --url ...`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ Cloud Run

---

## –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ –¥–∞—à–±–æ—Ä–¥–∞

–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å —Å–≤–æ–¥–∫—É –ø–æ —Ç–∏–∫–µ—Ä–∞–º –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (–±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞ –∫–æ–º–∞–Ω–¥–æ–π), –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ cron –Ω–∞ –∑–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞:

1. –í `config.env` –∑–∞–¥–∞–π—Ç–µ —á–∞—Ç, –∫—É–¥–∞ —Å–ª–∞—Ç—å –¥–∞—à–±–æ—Ä–¥:
   ```bash
   TELEGRAM_DASHBOARD_CHAT_ID=123456789
   ```
   (–∏–ª–∏ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –ø–µ—Ä–≤—ã–π `TELEGRAM_ALLOWED_USERS`, –µ—Å–ª–∏ `TELEGRAM_DASHBOARD_CHAT_ID` –Ω–µ –∑–∞–¥–∞–Ω)

2. –î–æ–±–∞–≤—å—Ç–µ –≤ crontab (–ø—Ä–∏–º–µ—Ä ‚Äî 3 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å –≤ —Ç–æ—Ä–≥–æ–≤—ã–µ —á–∞—Å—ã, –ø–Ω‚Äì–ø—Ç):
   ```bash
   0 10,14,18 * * 1-5 cd /path/to/lse && python scripts/send_dashboard_cron.py
   ```

3. –†–µ–∂–∏–º—ã: `python scripts/send_dashboard_cron.py 5m` –∏–ª–∏ `daily` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `all`).

–°–∫—Ä–∏–ø—Ç —Å–æ–±–∏—Ä–∞–µ—Ç —Ç–æ—Ç –∂–µ —Ç–µ–∫—Å—Ç, —á—Ç–æ –∏ –∫–æ–º–∞–Ω–¥–∞ `/dashboard`, –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π —á–∞—Ç —á–µ—Ä–µ–∑ Bot API.

### –°–∏–≥–Ω–∞–ª –æ –≤—Ö–æ–¥–µ SNDK (–ø–æ–ª–ª–∏–Ω–≥ 5m) ‚Äî –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –ª—é–¥–µ–π

–ß—Ç–æ–±—ã –±–æ—Ç **—Å–∞–º –ø—Ä–∏—Å—ã–ª–∞–ª** —Å–æ–æ–±—â–µ–Ω–∏–µ ¬´—Å—Ç–æ–∏—Ç –≤—Ö–æ–¥–∏—Ç—å¬ª, –∫–æ–≥–¥–∞ 5m-–∞–Ω–∞–ª–∏–∑ –ø–æ SNDK –¥–∞—ë—Ç BUY/STRONG_BUY (–±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è /recommend5m –∏–ª–∏ /dashboard):

1. –í `config.env` –∑–∞–¥–∞–π—Ç–µ, **–∫–æ–≥–æ –Ω–æ—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å**:

   **–í–∞—Ä–∏–∞–Ω—Ç A ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π (–∫–∞–∂–¥–æ–º—É –≤ –ª–∏—á–∫—É):** —É–∫–∞–∂–∏—Ç–µ chat_id –∫–∞–∂–¥–æ–≥–æ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é. –£–∑–Ω–∞—Ç—å —Å–≤–æ–π id: [@userinfobot](https://t.me/userinfobot) –∏–ª–∏ –ª–æ–≥–∏ –ø—Ä–∏ `/start`.
   ```bash
   TELEGRAM_SIGNAL_CHAT_IDS=123456789,987654321,555555555
   ```

   **–í–∞—Ä–∏–∞–Ω—Ç B ‚Äî –æ–¥–∏–Ω —á–∞—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä –≥—Ä—É–ø–ø–∞) –∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è:** —Ç–æ–≥–¥–∞ –≤ –Ω–∞—á–∞–ª–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç @username ‚Äî –æ–Ω–∏ –ø–æ–ª—É—á–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ. –£–∫–∞–∂–∏—Ç–µ –≥—Ä—É–ø–ø—É –∏ —Å–ø–∏—Å–æ–∫ –Ω–∏–∫–æ–≤:
   ```bash
   TELEGRAM_SIGNAL_CHAT_ID=-1001234567890
   TELEGRAM_SIGNAL_MENTIONS=@yurikobyzev,@alpiotr,@secretkoala
   ```

   –ï—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω–æ `TELEGRAM_SIGNAL_CHAT_IDS` / `TELEGRAM_SIGNAL_CHAT_ID`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `TELEGRAM_DASHBOARD_CHAT_ID` –∏–ª–∏ –ø–µ—Ä–≤—ã–π id –∏–∑ `TELEGRAM_ALLOWED_USERS`.

2. –î–æ–±–∞–≤—å—Ç–µ –≤ crontab –ø–æ–ª–ª–∏–Ω–≥ –∫–∞–∂–¥—ã–µ 5‚Äì15 –º–∏–Ω –≤ —Ç–æ—Ä–≥–æ–≤—ã–µ —á–∞—Å—ã (–ø–Ω‚Äì–ø—Ç):
   ```bash
   */15 10-18 * * 1-5  cd /path/to/lse && python scripts/send_sndk_signal_cron.py
   ```

3. –ü—Ä–∏ —Å–∏–≥–Ω–∞–ª–µ BUY/STRONG_BUY —Å–∫—Ä–∏–ø—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–æ –≤—Å–µ —á–∞—Ç—ã –∏–∑ `TELEGRAM_SIGNAL_CHAT_IDS` (–∏–ª–∏ –≤ –æ–¥–∏–Ω –∏–∑ `TELEGRAM_SIGNAL_CHAT_ID`). –ï—Å–ª–∏ –∑–∞–¥–∞–Ω `TELEGRAM_SIGNAL_MENTIONS`, –≤ –Ω–∞—á–∞–ª–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ–±–∞–≤–∏—Ç—Å—è —Å—Ç—Ä–æ–∫–∞ —Å —É–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏ (–¥–ª—è –≥—Ä—É–ø–ø—ã). –ü–æ–≤—Ç–æ—Ä–Ω—ã–π —Å–∏–≥–Ω–∞–ª –Ω–µ —à–ª—ë—Ç—Å—è —á–∞—â–µ —á–µ–º —Ä–∞–∑ –≤ 2 —á–∞—Å–∞ (cooldown).

**–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–¥–µ–ª–∫–∞—Ö –ø–æ—Ä—Ç—Ñ–µ–ª—å–Ω–æ–π –∏–≥—Ä—ã:** —Å–∫—Ä–∏–ø—Ç `trading_cycle_cron.py` (cron 9:00, 13:00, 17:00) –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è —Å–¥–µ–ª–æ–∫ –ø–æ —Ç–∏–∫–µ—Ä–∞–º MEDIUM/LONG –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ —Ç–µ –∂–µ —á–∞—Ç—ã (`TELEGRAM_SIGNAL_CHAT_IDS` / `TELEGRAM_SIGNAL_CHAT_ID`) —Å–æ–æ–±—â–µ–Ω–∏—è –æ –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–µ (BUY/SELL) —Å –ø–æ–º–µ—Ç–∫–æ–π ¬´–ü–æ—Ä—Ç—Ñ–µ–ª—å¬ª –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏. –û—Ç–¥–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—â–∏–π –º–æ–¥—É–ª—å `services/telegram_signal.py` (—Ç–∞–º –∂–µ `get_signal_chat_ids`, `send_telegram_message` –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏ 5m –∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è).

---

## –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é (–æ–¥–Ω–∞ VM –∏–ª–∏ Cloud Run + VM): **docs/DEPLOY_INSTRUCTIONS.md**. –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –Ω–∞ Cloud Run ‚Äî –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å webhook: `python scripts/setup_webhook.py --url <SERVICE_URL>/webhook`.

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
2. ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `/chart` –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
3. ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `/ask` –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ —Å LLM
4. ‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∏–∫–µ—Ä–æ–≤ –∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π
5. ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç RSI –¥–ª—è –≤–∞–ª—é—Ç –∏ —Ç–æ–≤–∞—Ä–æ–≤
6. ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: —Å–∏–≥–Ω–∞–ª—ã 5m (send_sndk_signal_cron) –∏ —Å–¥–µ–ª–∫–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—å–Ω–æ–π –∏–≥—Ä—ã (trading_cycle_cron) —É—Ö–æ–¥—è—Ç –≤ TELEGRAM_SIGNAL_CHAT_IDS
7. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ (inline keyboard)
8. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏—è–º–∏ (–∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –Ω—É–∂–Ω–æ)
9. ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º –±—Ä–æ–∫–µ—Ä–æ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `services/telegram_bot.py` - –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –±–æ—Ç–∞
- `services/rsi_calculator.py` - –õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç RSI –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ close
- `execution_agent.py` - –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–¥–µ–ª–æ–∫ (—Ä—É—á–Ω—ã–µ –∏ –ø–æ —Å–∏–≥–Ω–∞–ª—É), –ø–æ—Ä—Ç—Ñ–µ–ª—å, `get_trade_history(limit, ticker, strategy_name)`, `get_recent_trades()` –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `services/telegram_signal.py` - –û–±—â–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ –≤ Telegram (get_signal_chat_ids, send_telegram_message) –¥–ª—è 5m –∏ –ø–æ—Ä—Ç—Ñ–µ–ª—å–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `api/bot_app.py` - FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è webhook
- `scripts/run_telegram_bot.py` - –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
- `scripts/send_dashboard_cron.py` - –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ –¥–∞—à–±–æ—Ä–¥–∞ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (cron)
- `scripts/send_sndk_signal_cron.py` - –ü–æ–ª–ª–∏–Ω–≥ SNDK 5m –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–∏–≥–Ω–∞–ª–∞ –æ –≤—Ö–æ–¥–µ –≤ –ª–∏—á–∫—É –ø—Ä–∏ BUY/STRONG_BUY
- `services/dashboard_builder.py` - –°–±–æ—Ä–∫–∞ —Ç–µ–∫—Å—Ç–∞ –¥–∞—à–±–æ—Ä–¥–∞ (–æ–±—â–∏–π –∫–æ–¥ –¥–ª—è /dashboard –∏ cron)
- `scripts/update_rsi_local.py` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ RSI –¥–ª—è –≤—Å–µ—Ö —Ç–∏–∫–µ—Ä–æ–≤
- `scripts/setup_webhook.py` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook
- `docs/SANDBOX_TRADE_EXAMPLE.md` - –ü—Ä–∏–º–µ—Ä —Ü–µ–ø–æ—á–∫–∏ —Å–¥–µ–ª–æ–∫ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ë–î (portfolio_state, trade_history)
- `docs/DEPLOY_INSTRUCTIONS.md` - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
