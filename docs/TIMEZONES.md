# Таймзоны в системе

## Хранение в БД (PostgreSQL)

Сессия PostgreSQL настроена на **America/New_York (ET)** (`config_loader.py`). Все поля с временем (`trade_history.ts`, `portfolio_state.last_updated`, `knowledge_base.ts` и т.д.) сохраняются и возвращаются в **Eastern Time**.

## Отображение в интерфейсе

Во всех веб-страницах и API время отображается в **Eastern Time (ET)**:

- Страница **Мониторинг** (`/monitor`): подпись «Обновлено в HH:MM:SS ET» и текст «Время отображается в Eastern Time (ET)».
- API `/api/dashboard`: поле `updated_at` в формате ISO с offset ET, в ответе добавлено поле `timezone: "America/New_York"`.
- Дашборд (текст для Telegram и веба): в заголовке время с суффиксом «ET».
- Форматирование дат в веб-интерфейсе (`_format_ts` в `web_app.py`): к времени добавляется подпись « ET».

Таким образом, независимо от того, в какой таймзоне работает сервер (например, Москва), пользователь всегда видит время в зоне биржи **ET**.
