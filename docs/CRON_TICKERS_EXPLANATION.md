# –û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –ö–∞–∫–∏–µ —Ç–∏–∫–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ cron

## –ö—Ä–∞—Ç–∫–∏–π –æ—Ç–≤–µ—Ç

**–î–ê, –¥–ª—è –ø–µ—Å–æ—á–Ω–∏—Ü—ã –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ cron –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ MSFT, SNDK, GBPUSD=X**, –Ω–æ —Å –≤–∞–∂–Ω—ã–º–∏ –æ–≥–æ–≤–æ—Ä–∫–∞–º–∏.

---

## –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ

### 1. –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ü–µ–Ω (`update_prices_cron.py`)

```python
# scripts/update_prices_cron.py
update_all_prices()  # –ë–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
```

**–õ–æ–≥–∏–∫–∞:**
- –í—ã–∑—ã–≤–∞–µ—Ç `update_all_prices()` –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- `update_all_prices()` –∫–æ–≥–¥–∞ `tickers=None`, –±–µ—Ä–µ—Ç **–í–°–ï —Ç–∏–∫–µ—Ä—ã –∏–∑ –ë–î** —á–µ—Ä–µ–∑ `get_tracked_tickers(engine)`
- `get_tracked_tickers()` –¥–µ–ª–∞–µ—Ç `SELECT DISTINCT ticker FROM quotes`

**–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –≤ –ë–î:**
- –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `init_db.py` –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ: `["MSFT", "SNDK", "GBPUSD=X"]`
- –≠—Ç–∏ —Ç–∏–∫–µ—Ä—ã –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Ç–∞–±–ª–∏—Ü—É `quotes`

**–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ cron:**
- ‚úÖ `update_prices_cron.py` –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ MSFT, SNDK, GBPUSD=X (–ø–æ—Ç–æ–º—É —á—Ç–æ —Ç–æ–ª—å–∫–æ –æ–Ω–∏ –µ—Å—Ç—å –≤ –ë–î)

**–ù–û! –ï—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ —Ç–∏–∫–µ—Ä—ã:**
- –ï—Å–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å `python update_prices.py AAPL,TSLA`, —Ç–æ —ç—Ç–∏ —Ç–∏–∫–µ—Ä—ã –¥–æ–±–∞–≤—è—Ç—Å—è –≤ `quotes`
- –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ `update_prices_cron.py` –Ω–∞—á–Ω–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å **–í–°–ï —Ç–∏–∫–µ—Ä—ã** –∏–∑ –ë–î (–≤–∫–ª—é—á–∞—è AAPL, TSLA)

---

### 2. –°–∫—Ä–∏–ø—Ç —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞ (`trading_cycle_cron.py`)

–¢–∏–∫–µ—Ä—ã –±–µ—Ä—É—Ç—Å—è –∏–∑ `config.env`: `TRADING_CYCLE_TICKERS` (–µ—Å–ª–∏ –∑–∞–¥–∞–Ω) –∏–ª–∏ `TICKERS_MEDIUM` + `TICKERS_LONG` —á–µ—Ä–µ–∑ `get_tickers_for_portfolio_game()`. –ê—Ä–≥—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–ø–∏—Å–æ–∫.

**–õ–æ–≥–∏–∫–∞:**
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî —Ç–∏–∫–µ—Ä—ã –ø–æ—Ä—Ç—Ñ–µ–ª—å–Ω–æ–π –∏–≥—Ä—ã (MEDIUM + LONG), –Ω–µ GAME_5m (—Ç–µ –≤ `send_sndk_signal_cron.py` –ø–æ TICKERS_FAST).
- –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç: `python scripts/trading_cycle_cron.py "MSFT,ORCL,AMD"`.

**–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ cron:**
- ‚úÖ `trading_cycle_cron.py` —Ç–æ—Ä–≥—É–µ—Ç –ø–æ —Å–ø–∏—Å–∫—É –∏–∑ config –∏–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞.
- ‚úÖ –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Telegram (—Ç–µ –∂–µ `TELEGRAM_SIGNAL_CHAT_IDS`) —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–¥–µ–ª–∫–∞—Ö –ø–æ—Ä—Ç—Ñ–µ–ª—å–Ω–æ–π –∏–≥—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –º–∏–Ω—É—Ç (BUY/SELL —Å –ø–æ–º–µ—Ç–∫–æ–π ¬´–ü–æ—Ä—Ç—Ñ–µ–ª—å¬ª –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π). –û—Ç–¥–µ–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å –≤ crontab –Ω–µ –Ω—É–∂–Ω–∞.

---

## –í—ã–≤–æ–¥—ã

### –î–ª—è –ø–µ—Å–æ—á–Ω–∏—Ü—ã (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä):

1. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω**: –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ —Ç–∏–∫–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –≤ —Ç–∞–±–ª–∏—Ü–µ `quotes`
   - –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ: MSFT, SNDK, GBPUSD=X
   - –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ —á–µ—Ä–µ–∑ `update_prices.py`

2. **–¢–æ—Ä–≥–æ–≤—ã–π —Ü–∏–∫–ª**: –¢–∏–∫–µ—Ä—ã –∏–∑ config.env (`TRADING_CYCLE_TICKERS` –∏–ª–∏ `TICKERS_MEDIUM` + `TICKERS_LONG`). –°–º. [docs/TICKER_GROUPS.md](TICKER_GROUPS.md).

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–∏–∫–µ—Ä–æ–≤ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏:

**–í–∞—Ä–∏–∞–Ω—Ç 1: config.env**
```bash
# –ü–æ—Ä—è–¥–æ–∫: TRADING_CYCLE_TICKERS (–µ—Å–ª–∏ –∑–∞–¥–∞–Ω) –∏–Ω–∞—á–µ TICKERS_MEDIUM + TICKERS_LONG
TRADING_CYCLE_TICKERS=MSFT,SNDK,GBPUSD=X,AAPL
# –∏–ª–∏
TICKERS_MEDIUM=ALAB,MU,TER,AMD
TICKERS_LONG=MSFT,GBPUSD=X,GC=F,^VIX
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á–µ—Ä–µ–∑ cron**
```bash
# –í crontab –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã:
0 9,13,17 * * 1-5 cd $PROJECT_DIR && $PYTHON_PATH scripts/trading_cycle_cron.py MSFT,SNDK,GBPUSD=X,AAPL
```

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø–µ—Å–æ—á–Ω–∏—Ü—ã

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Ç–µ–∫—É—â–∞—è):
- ‚úÖ MSFT - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –∞–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Mean Reversion
- ‚úÖ SNDK - –≤–æ–ª–∞—Ç–∏–ª—å–Ω–∞—è –∞–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Momentum/VolatileGap
- ‚úÖ GBPUSD=X - –≤–∞–ª—é—Ç–Ω–∞—è –ø–∞—Ä–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ FX impact

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —Ç–∏–∫–µ—Ä–æ–≤:

1. **–î–æ–±–∞–≤–∏—Ç—å –≤ –ë–î –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ü–µ–Ω:**
   ```bash
   python update_prices.py AAPL,TSLA,GOOGL
   ```

2. **–î–æ–±–∞–≤–∏—Ç—å –≤ —Ç–æ—Ä–≥–æ–≤—ã–π —Ü–∏–∫–ª:** –∑–∞–¥–∞—Ç—å –≤ config.env `TRADING_CYCLE_TICKERS` –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —Ç–∏–∫–µ—Ä –≤ `TICKERS_MEDIUM` / `TICKERS_LONG` (—Å–º. [TICKER_GROUPS.md](TICKER_GROUPS.md)).

3. **–ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å cron:**
   ```bash
   ./setup_cron.sh
   ```

---

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ cron —á–µ—Ä–µ–∑ `./setup_cron.sh`:

- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω** (18:00 –µ–∂–µ–¥–Ω–µ–≤–Ω–æ): MSFT, SNDK, GBPUSD=X
- ‚úÖ **–¢–æ—Ä–≥–æ–≤—ã–π —Ü–∏–∫–ª** (9:00, 13:00, 17:00 –ø–Ω-–ø—Ç): MSFT, SNDK, GBPUSD=X

**–≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è –ø–µ—Å–æ—á–Ω–∏—Ü—ã!** üéØ

---

## –°–º. —Ç–∞–∫–∂–µ

- [setup_cron.sh](../setup_cron.sh) - —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ cron
- [scripts/update_prices_cron.py](../scripts/update_prices_cron.py) - —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ü–µ–Ω
- [scripts/trading_cycle_cron.py](../scripts/trading_cycle_cron.py) - —Å–∫—Ä–∏–ø—Ç —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
- [update_prices.py](../update_prices.py) - –ª–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ü–µ–Ω
- [init_db.py](../init_db.py) - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î —Å –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ —Ç–∏–∫–µ—Ä–∞–º–∏



